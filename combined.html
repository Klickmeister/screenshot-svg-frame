<!DOCTYPE html>
<html>
  <head>
    <title>Combined Desktop & Mobile Frame</title>
    <style>
      body {
        font-family: system-ui, -apple-system, sans-serif;
        margin: 0;
        padding: 20px;
        background: #f5f5f5;
      }

      .controls {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
      }

      .upload-section {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin: 20px 0;
      }

      .upload-container {
        background: #f9f9f9;
        padding: 20px;
        border-radius: 6px;
        border: 1px solid #eee;
      }

      .upload-container h3 {
        margin: 0 0 15px 0;
        font-size: 16px;
        color: #333;
      }

      button {
        background: #333;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 6px;
        font-weight: bold;
        cursor: pointer;
      }

      button:hover {
        background: #555;
      }

      input[type='file'] {
        width: 100%;
      }

      input[type='file']::file-selector-button {
        background: white;
        border: 1px solid #ddd;
        padding: 8px 16px;
        border-radius: 6px;
        margin-right: 16px;
        cursor: pointer;
        transition: all 0.2s;
      }

      input[type='file']::file-selector-button:hover {
        background: #f5f5f5;
        border-color: #ccc;
      }

      .debug-toggle {
        margin: 20px 0;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .debug .screen-area {
        stroke: blue;
        stroke-width: 7;
        fill: none;
        pointer-events: none;
      }

      #svgContainer {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        max-width: 100%;
        overflow-x: auto;
      }

      #svgContainer svg {
        display: block;
        max-width: 100%;
        height: auto;
      }
    </style>
  </head>
  <body>
    <div class="controls">
      <button onclick="downloadSVG()">Download SVG</button>

      <div class="upload-section">
        <div class="upload-container">
          <h3>Desktop Screenshot</h3>
          <input type="file" id="desktopInput" accept="image/*" />
        </div>
        <div class="upload-container">
          <h3>Mobile Screenshot</h3>
          <input type="file" id="mobileInput" accept="image/*" />
        </div>
      </div>
    </div>

    <!-- <div class="debug-toggle">
      <input type="checkbox" id="debugToggle" />
      <label for="debugToggle">Show screen areas</label>
    </div> -->

    <div id="svgContainer">
      <svg
        width="2243"
        height="1132"
        viewBox="0 0 2243 1132"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
      >
        <defs>
          <clipPath id="desktop-screen-mask">
            <path
              d="M90 30C83.3726 30 78 35.3726 78 42V1000C78 1006.63 83.3725 1012 90 1012H1578C1584.63 1012 1590 1006.63 1590 1000V42C1590 35.3726 1584.63 30 1578 30H90Z"
            />
          </clipPath>
          <clipPath id="mobile-screen-mask">
            <path
              d="M1865.99 406.292C1865.99 404.083 1867.78 402.292 1869.99 402.292H2214C2216.21 402.292 2218 404.083 2218 406.292V1066.81C2218 1069.02 2216.21 1070.81 2214 1070.81H1869.99C1867.78 1070.81 1865.99 1069.02 1865.99 1066.81V406.292Z"
            />
          </clipPath>
        </defs>

        <g clip-path="url(#clip0_65_24)">
          <!-- Desktop Frame -->
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M78 0C61.4315 0 48 13.4315 48 30V1042C48 1058.57 61.4315 1072 78 1072H1590C1606.57 1072 1620 1058.57 1620 1042V30C1620 13.4315 1606.57 0 1590 0H78ZM90 30C83.3726 30 78 35.3726 78 42V1000C78 1006.63 83.3725 1012 90 1012H1578C1584.63 1012 1590 1006.63 1590 1000V42C1590 35.3726 1584.63 30 1578 30H90Z"
            fill="white"
            fill-opacity="0.2"
          />

          <!-- Desktop Screenshot Area -->
          <svg x="78" y="30" width="1512" height="982" viewBox="0 0 1512 982" preserveAspectRatio="xMidYMin slice">
            <image
              id="desktopImage"
              width="100%"
              height="100%"
              preserveAspectRatio="xMidYMin slice"
              xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAQSURBVHgBAQUA+v8AXY39/wYZAudr+hVRAAAAAElFTkSuQmCC"
            />
          </svg>

          <!-- Desktop Frame Border -->
          <mask
            id="mask0_65_24"
            style="mask-type: luminance"
            maskUnits="userSpaceOnUse"
            x="48"
            y="0"
            width="1572"
            height="1072"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M78 0C61.4315 0 48 13.4315 48 30V1042C48 1058.57 61.4315 1072 78 1072H1590C1606.57 1072 1620 1058.57 1620 1042V30C1620 13.4315 1606.57 0 1590 0H78ZM90 30C83.3726 30 78 35.3726 78 42V1000C78 1006.63 83.3725 1012 90 1012H1578C1584.63 1012 1590 1006.63 1590 1000V42C1590 35.3726 1584.63 30 1578 30H90Z"
              fill="white"
            />
          </mask>
          <g mask="url(#mask0_65_24)">
            <path
              d="M53 30C53 16.1929 64.1929 5 78 5V-5C58.67 -5 43 10.6701 43 30H53ZM53 1042V30H43V1042H53ZM78 1067C64.1929 1067 53 1055.81 53 1042H43C43 1061.33 58.67 1077 78 1077V1067ZM1590 1067H78V1077H1590V1067ZM1615 1042C1615 1055.81 1603.81 1067 1590 1067V1077C1609.33 1077 1625 1061.33 1625 1042H1615ZM1615 30V1042H1625V30H1615ZM1590 5C1603.81 5 1615 16.1929 1615 30H1625C1625 10.67 1609.33 -5 1590 -5V5ZM78 5H1590V-5H78V5ZM83 42C83 38.134 86.134 35 90 35V25C80.6112 25 73 32.6112 73 42H83ZM83 1000V42H73V1000H83ZM90 1007C86.134 1007 83 1003.87 83 1000H73C73 1009.39 80.6111 1017 90 1017V1007ZM1578 1007H90V1017H1578V1007ZM1585 1000C1585 1003.87 1581.87 1007 1578 1007V1017C1587.39 1017 1595 1009.39 1595 1000H1585ZM1585 42V1000H1595V42H1585ZM1578 35C1581.87 35 1585 38.134 1585 42H1595C1595 32.6112 1587.39 25 1578 25V35ZM90 35H1578V25H90V35Z"
              fill="black"
            />
          </g>

          <!-- Desktop Stand -->
          <path
            d="M2.5 1044.5H1677.5V1092C1677.5 1112.71 1660.71 1129.5 1640 1129.5H40C19.2894 1129.5 2.5 1112.71 2.5 1092V1044.5Z"
            fill="white"
            stroke="black"
            stroke-width="5"
          />
          <path
            d="M734 1042H934V1052C934 1057.52 929.523 1062 924 1062H744C738.477 1062 734 1057.52 734 1052V1042Z"
            fill="black"
          />

          <!-- Mobile Frame -->
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M1881 355.723C1858.91 355.723 1841 373.632 1841 395.723V1092C1841 1114.09 1858.91 1132 1881 1132H2203C2225.09 1132 2243 1114.09 2243 1092V395.723C2243 373.632 2225.09 355.723 2203 355.723H1881ZM1865.99 406.292C1865.99 404.083 1867.78 402.292 1869.99 402.292H2214C2216.21 402.292 2218 404.083 2218 406.292V1066.81C2218 1069.02 2216.21 1070.81 2214 1070.81H1869.99C1867.78 1070.81 1865.99 1069.02 1865.99 1066.81V406.292Z"
            fill="white"
          />

          <!-- Mobile Screenshot Area -->
          <svg x="1866" y="402" width="352" height="669" viewBox="0 0 352 669" preserveAspectRatio="xMidYMin slice">
            <image
              id="mobileImage"
              width="100%"
              height="100%"
              preserveAspectRatio="xMidYMin slice"
              xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAQSURBVHgBAQUA+v8AXY39/wYZAudr+hVRAAAAAElFTkSuQmCC"
            />
          </svg>

          <!-- Mobile Frame Border -->
          <mask
            id="mask1_65_24"
            style="mask-type: luminance"
            maskUnits="userSpaceOnUse"
            x="1841"
            y="355"
            width="402"
            height="777"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M1881 355.723C1858.91 355.723 1841 373.632 1841 395.723V1092C1841 1114.09 1858.91 1132 1881 1132H2203C2225.09 1132 2243 1114.09 2243 1092V395.723C2243 373.632 2225.09 355.723 2203 355.723H1881ZM1865.99 406.292C1865.99 404.083 1867.78 402.292 1869.99 402.292H2214C2216.21 402.292 2218 404.083 2218 406.292V1066.81C2218 1069.02 2216.21 1070.81 2214 1070.81H1869.99C1867.78 1070.81 1865.99 1069.02 1865.99 1066.81V406.292Z"
              fill="white"
            />
          </mask>
          <g mask="url(#mask1_65_24)">
            <path
              d="M1846 395.723C1846 376.393 1861.67 360.723 1881 360.723V350.723C1856.15 350.723 1836 370.87 1836 395.723H1846ZM1846 1092V395.723H1836V1092H1846ZM1881 1127C1861.67 1127 1846 1111.33 1846 1092H1836C1836 1116.85 1856.15 1137 1881 1137V1127ZM2203 1127H1881V1137H2203V1127ZM2238 1092C2238 1111.33 2222.33 1127 2203 1127V1137C2227.85 1137 2248 1116.85 2248 1092H2238ZM2238 395.723V1092H2248V395.723H2238ZM2203 360.723C2222.33 360.723 2238 376.393 2238 395.723H2248C2248 370.87 2227.85 350.723 2203 350.723V360.723ZM1881 360.723H2203V350.723H1881V360.723ZM1869.99 397.292C1865.02 397.292 1860.99 401.322 1860.99 406.292H1870.99C1870.99 406.844 1870.54 407.292 1869.99 407.292V397.292ZM2214 397.292H1869.99V407.292H2214V397.292ZM2223 406.292C2223 401.322 2218.97 397.292 2214 397.292V407.292C2213.44 407.292 2213 406.844 2213 406.292H2223ZM2223 1066.81V406.292H2213V1066.81H2223ZM2214 1075.81C2218.97 1075.81 2223 1071.78 2223 1066.81H2213C2213 1066.26 2213.44 1065.81 2214 1065.81V1075.81ZM1869.99 1075.81H2214V1065.81H1869.99V1075.81ZM1860.99 1066.81C1860.99 1071.78 1865.02 1075.81 1869.99 1075.81V1065.81C1870.54 1065.81 1870.99 1066.26 1870.99 1066.81H1860.99ZM1860.99 406.292V1066.81H1870.99V406.292H1860.99Z"
              fill="black"
            />
          </g>

          <!-- Mobile Speaker -->
          <mask
            id="mask2_65_24"
            style="mask-type: luminance"
            maskUnits="userSpaceOnUse"
            x="2014"
            y="377"
            width="56"
            height="9"
          >
            <path
              d="M2067.73 377.672H2016.28C2015.18 377.672 2014.28 378.567 2014.28 379.672V383.758C2014.28 384.863 2015.18 385.758 2016.28 385.758H2067.73C2068.83 385.758 2069.73 384.863 2069.73 383.758V379.672C2069.73 378.567 2068.83 377.672 2067.73 377.672Z"
              fill="white"
            />
          </mask>
          <g mask="url(#mask2_65_24)">
            <path
              d="M2067.73 377.672H2016.28C2015.18 377.672 2014.28 378.567 2014.28 379.672V383.758C2014.28 384.863 2015.18 385.758 2016.28 385.758H2067.73C2068.83 385.758 2069.73 384.863 2069.73 383.758V379.672C2069.73 378.567 2068.83 377.672 2067.73 377.672Z"
              fill="white"
              stroke="black"
              stroke-width="8.08621"
              stroke-linejoin="round"
            />
          </g>

          <!-- Debug Areas -->
          <rect class="screen-area" x="78" y="30" width="1512" height="982" style="display: none" />
          <rect class="screen-area mobile-area" x="1866" y="402" width="352" height="669" style="display: none" />
        </g>
      </svg>
    </div>

    <script>
      // Handle desktop image upload
      document.getElementById('desktopInput').addEventListener('change', function (e) {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function (event) {
            document
              .getElementById('desktopImage')
              .setAttributeNS('http://www.w3.org/1999/xlink', 'href', event.target.result);
          };
          reader.readAsDataURL(file);
        }
      });

      // Handle mobile image upload
      document.getElementById('mobileInput').addEventListener('change', function (e) {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function (event) {
            document
              .getElementById('mobileImage')
              .setAttributeNS('http://www.w3.org/1999/xlink', 'href', event.target.result);
          };
          reader.readAsDataURL(file);
        }
      });

      // Toggle debug view
      document.getElementById('debugToggle').addEventListener('change', function (e) {
        const screenAreas = document.querySelectorAll('.screen-area');
        screenAreas.forEach((area) => {
          area.style.display = this.checked ? 'block' : 'none';
        });
        document.querySelector('#svgContainer').classList.toggle('debug', this.checked);
      });

      // Download SVG
      function downloadSVG() {
        const svgElement = document.querySelector('svg');
        const svgClone = svgElement.cloneNode(true);

        const serializer = new XMLSerializer();
        const svgString = serializer.serializeToString(svgClone);

        const blob = new Blob([svgString], { type: 'image/svg+xml;charset=utf-8' });

        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);

        const date = new Date();
        const timestamp = `${date.getFullYear()}${String(date.getMonth() + 1).padStart(2, '0')}${String(
          date.getDate()
        ).padStart(2, '0')}_${String(date.getHours()).padStart(2, '0')}${String(date.getMinutes()).padStart(2, '0')}`;
        link.download = `combined_frame_${timestamp}.svg`;

        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);

        URL.revokeObjectURL(link.href);
      }
    </script>
  </body>
</html>
